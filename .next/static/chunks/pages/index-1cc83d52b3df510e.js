(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(6112)}])},6112:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return en}});var r=n(5893),a=n(2161),i=n(5217),s=n(1799),c=n(9396),l={ALL_BREW:"FETCH",STATE:"STATE",CITY:"CITY",NAME:"NAME"},o={allBrew:[],allState:[],allCity:[],allName:[]},u=n(3894),d=(0,i.MT)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case l.ALL_BREW:return(0,c.Z)((0,s.Z)({},e),{allBrew:r,allState:r,allCity:r,allName:r});case l.STATE:return(0,c.Z)((0,s.Z)({},e),{allCity:r,allName:r});case l.CITY:case l.NAME:return(0,c.Z)((0,s.Z)({},e),{allName:r});default:return e}},(0,i.md)(u.Z)),p=n(7294),h=n(828),f=n(6305),y=n(5161),m=n(7702),x=n(4436),Z=n(2215),v=(0,p.createContext)(null),j=n(1120),b=(0,j.Z)(function(e){return{formControl:{margin:e.spacing(1),minWidth:120},selectEmpty:{marginTop:e.spacing(2)}}}),g=function(e){var t=e.datas,n=e.fetch,a=e.value,i=(0,f.Z)(new Map(t.map(function(e){return[e[n],e]})).values()),l=(0,p.useContext)(v),o=(l.query,l.setQuery),u=b();return(0,r.jsxs)(x.Z,{variant:"outlined",className:u.formControl,children:[(0,r.jsx)(y.Z,{id:"demo-simple-select-outlined-label",children:n}),(0,r.jsx)(Z.Z,{labelId:"demo-simple-select-outlined-label",id:"demo-simple-select-outlined",value:a,onChange:function(e){switch(n){case"state":return o(function(t){return(0,c.Z)((0,s.Z)({},t),{state:e.target.value,city:"",name:""})});case"city":return o(function(t){return(0,c.Z)((0,s.Z)({},t),{city:e.target.value,name:""})});case"name":return o(function(t){return(0,c.Z)((0,s.Z)({},t),{name:e.target.value})});default:return null}},label:n,children:i.map(function(e){return(0,r.jsx)(m.Z,{value:e[n],children:e[n]},e.id)})})]})},_=n(2302),w=n(8222),N=n(6847),C=n(7394),E=n(3750),T=n(6570),A=(0,j.Z)({title:{color:"white",fontWeight:"bold"}});function S(e){var t=e.valuetoorderby,n=e.orderdirection,a=e.handleRequestsort,i=A(),s=function(e){return function(t){a(t,e)}};return(0,r.jsx)(E.Z,{style:{backgroundColor:"rgb(255, 162, 0)"},children:(0,r.jsxs)(C.Z,{children:[(0,r.jsx)(w.Z,{children:(0,r.jsx)(T.Z,{className:i.title,active:"name"===t,direction:"name"===t?n:"asc",onClick:s("name"),children:"Name"})},"name"),(0,r.jsx)(w.Z,{align:"left",children:(0,r.jsx)(T.Z,{className:i.title,active:"brewery_type"===t,direction:"brewery_type"===t?n:"asc",onClick:s("brewery_type"),children:"Brewery Type"})}),(0,r.jsx)(w.Z,{align:"left",children:(0,r.jsx)(T.Z,{className:i.title,active:"city"===t,direction:"city"===t?n:"asc",onClick:s("city"),children:"Address"})}),(0,r.jsx)(w.Z,{align:"left",children:(0,r.jsx)(T.Z,{className:i.title,active:"phone"===t,direction:"phone"===t?n:"asc",onClick:s("phone"),children:"Phone"})})]})})}var k=n(948),B=n(6382),L=n(4808),I=n(6628),P=(0,k.ZP)(function(e){return{modal:{display:"flex",alignItems:"center",justifyContent:"center",border:"2px solid rgb(255,188,0)"},paper:{backgroundColor:"white",border:"2px solid rgb(255,188,0)",boxShadow:e.shadows[5],padding:e.spacing(2,4,3)}}});function M(e){var t=e.open,n=e.handleClose,a=e.data,i=P();return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(B.Z,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",className:i.modal,open:t,onClose:function(e){n(e,"close")},closeAfterTransition:!0,BackdropComponent:L.Z,BackdropProps:{timeout:500},children:(0,r.jsx)(I.Z,{in:t,children:(0,r.jsxs)("div",{className:i.paper,children:[(0,r.jsxs)("h2",{id:"transition-modal-title",style:{color:"rgb(255,188,0)"},children:["Name: ",a.name]}),(0,r.jsxs)("p",{id:"transition-modal-description",children:["Address: ",a.address_2," ",a.address_3," ",a.street," ",a.city," ",a.state," ",a.country," ",a.postal_code]}),(0,r.jsxs)("p",{id:"transition-modal-description",children:["Brewery Type: ",a.brewery_type]}),(0,r.jsxs)("p",{id:"transition-modal-description",children:["Created At: ",a.created_at]}),(0,r.jsxs)("p",{id:"transition-modal-description",children:["Phone: ",a.phone]})]})})})})}function R(e,t,n){return t[n]<e[n]?-1:t[n]>e[n]?1:0}var W=function(e,t){var n=e.map(function(e,t){return[e,t]});return n.sort(function(e,n){var r=t(e[0],n[0]);return 0!==r?r:e[1]-n[1]}),n.map(function(e){return e[0]})};function q(e){var t=e.props,n=(0,h.Z)((0,p.useState)("asc"),2),a=n[0],i=n[1],s=(0,h.Z)((0,p.useState)("name"),2),c=s[0],l=s[1],o=(0,h.Z)((0,p.useState)([]),2),u=o[0],d=o[1],f=(0,h.Z)((0,p.useState)(!1),2),y=f[0],m=f[1],x=function(e){d(e),m(!0)};return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(N.Z,{children:(0,r.jsxs)(_.Z,{children:[(0,r.jsx)(S,{valuetoorderby:c,orderdirection:a,handleRequestsort:function(e,t){l(t),i(c===t&&"asc"===a?"desc":"asc")}}),W(t,"desc"===a?function(e,t){return R(e,t,c)}:function(e,t){return-R(e,t,c)}).map(function(e,t){return(0,r.jsxs)(C.Z,{onClick:function(){return x(e)},children:[(0,r.jsx)(w.Z,{component:"th",scope:"row",children:e.name}),(0,r.jsx)(w.Z,{align:"left",children:e.brewery_type}),(0,r.jsxs)(w.Z,{align:"left",children:[e.address_2," ",e.address_3," ",e.street," ",e.city," ",e.state," ",e.country," ",e.postal_code]}),(0,r.jsx)(w.Z,{align:"left",children:e.phone})]},t)}),(0,r.jsx)(M,{open:y,handleClose:function(e,t){"close"===t?m(!1):m(!0)},data:u})]})})})}var O=n(1458),Y=n(5861),F=n(7568),Q=n(414),X=n(9669),z=n.n(X)().create({baseURL:"https://api.openbrewerydb.org/breweries"}),D=function(){var e;return e=(0,F.Z)(function(e){var t;return(0,Q.__generator)(this,function(n){switch(n.label){case 0:return[4,z.get()];case 1:return t=n.sent(),e({type:l.ALL_BREW,payload:t.data}),[2]}})}),function(t){return e.apply(this,arguments)}},H=function(e){var t;return t=(0,F.Z)(function(t,n){var r;return(0,Q.__generator)(this,function(n){switch(n.label){case 0:return[4,z.get(e)];case 1:return r=n.sent(),t({type:l.STATE,payload:r.data}),[2]}})}),function(e,n){return t.apply(this,arguments)}},U=function(e){var t;return t=(0,F.Z)(function(t,n){var r;return(0,Q.__generator)(this,function(n){switch(n.label){case 0:return[4,z.get(e)];case 1:return r=n.sent(),t({type:l.CITY,payload:r.data}),[2]}})}),function(e,n){return t.apply(this,arguments)}},G=function(e){var t;return t=(0,F.Z)(function(t,n){var r;return(0,Q.__generator)(this,function(n){switch(n.label){case 0:return[4,z.get(e)];case 1:return r=n.sent(),t({type:l.NAME,payload:r.data}),[2]}})}),function(e,n){return t.apply(this,arguments)}},J=n(5258),K=n(8358),V=n(2318),$=n(282);function ee(){return(0,r.jsx)("div",{className:"navroot",children:(0,r.jsx)(J.Z,{position:"static",className:"navbg",children:(0,r.jsxs)(K.Z,{children:[(0,r.jsxs)(V.Z,{variant:"h6",style:{display:"contents"},children:[(0,r.jsx)("img",{src:"https://www.openbrewerydb.org/favicon.png",className:"nav img"})," List Breweries"]}),(0,r.jsx)($.Z,{variant:"outlined",style:{marginLeft:"auto"},href:"/login",children:"Outlined"})]})})})}var et=function(){var e=(0,h.Z)((0,p.useState)({name:"",city:"",state:""}),2),t=e[0],n=e[1],i=(0,h.Z)((0,p.useState)(!1),2),s=i[0],c=i[1],l=(0,a.v9)(function(e){return e}),o=(0,a.I0)();return(0,p.useEffect)(function(){c(!0),o(D()),c(!1)},[o]),(0,p.useEffect)(function(){c(!0),t.state&&o(H("?by_state=".concat(t.state))),""!==t.city&&o(U("?by_state=".concat(t.state,"&by_city=").concat(t.city))),""!==t.name&&o(G("?by_state=".concat(t.state,"&by_city=").concat(t.city,"&by_name=").concat(t.name))),c(!1)},[o,t]),(0,r.jsxs)("div",{className:"appbody",children:[(0,r.jsx)(ee,{}),(0,r.jsxs)("div",{className:"App",children:[(0,r.jsxs)("header",{className:"App-header",children:[(0,r.jsx)(Y.Z,{variant:"h3",gutterBottom:!0,style:{color:"#fb0"},children:"Welcome to Open Brewery DB"}),(0,r.jsx)("div",{children:(0,r.jsxs)(v.Provider,{value:{query:t,setQuery:n},children:[t&&(0,r.jsx)(g,{datas:l.allState,fetch:"state",value:t.state}),t&&(0,r.jsx)(g,{datas:l.allCity,fetch:"city",value:t.city}),t&&(0,r.jsx)(g,{datas:l.allName,fetch:"name",value:t.name})]})})]}),s?(0,r.jsx)(O.Z,{}):(0,r.jsx)(q,{props:l.allName})]})]})};function en(){return(0,r.jsx)(a.zt,{store:d,children:(0,r.jsx)(et,{})})}}},function(e){e.O(0,[338,902,774,888,179],function(){return e(e.s=8312)}),_N_E=e.O()}]);